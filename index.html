<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stresskedua - Kamus Hafalan</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />

  <meta name="theme-color" content="#ffffff" />
</head>
<body>
  <div id="app">

    <!-- HEADER GLOBAL -->
    <header id="app-header">
      <h1>Stresskedua</h1>
      <div id="header-actions">
        <button id="btn-header-log" class="btn small hidden">Log</button>
        <button id="btn-header-logout" class="btn small hidden">Log Keluar</button>
      </div>
    </header>

    <!-- STATUS / ALERT -->
    <div id="status-bar" class="hidden"></div>

    <!-- SECTION: LOGIN (PAGE 1) -->
    <section id="page-login" class="page active">
      <div class="card centered">
        <h2>Log Masuk</h2>
        <p>Sila log masuk menggunakan akaun Google anda untuk mula menggunakan aplikasi.</p>
        <button id="btn-login-google" class="btn primary">Log Masuk dengan Google</button>
      </div>
    </section>

    <!-- SECTION: BAHASA (PAGE 2) -->
    <section id="page-bahasa" class="page hidden">
      <div class="toolbar">
        <button id="btn-bahasa-log" class="btn secondary">Log</button>
      </div>
      <h2>Bahasa</h2>
      <div class="input-group">
        <label for="search-bahasa">Cari bahasa</label>
        <input type="text" id="search-bahasa" placeholder="Cari bahasa..." />
      </div>
      <button id="btn-tambah-bahasa" class="btn primary full">Tambah Bahasa</button>
      <ul id="senarai-bahasa" class="list"></ul>
    </section>

    <!-- SECTION: HURUF (PAGE 3) -->
    <section id="page-huruf" class="page hidden">
      <button id="btn-kembali-ke-bahasa" class="btn secondary">&larr; Kembali ke Bahasa</button>
      <h2 id="tajuk-huruf-bahasa">Huruf</h2>
      <p class="subtitle" id="label-bahasa-terpilih"></p>

      <div class="input-group">
        <label for="search-perkataan-dari-huruf">Cari perkataan</label>
        <input type="text" id="search-perkataan-dari-huruf" placeholder="Cari perkataan..." />
      </div>

      <div id="senarai-huruf" class="grid-huruf"></div>
    </section>

    <!-- SECTION: PERKATAAN (PAGE 4) -->
    <section id="page-perkataan" class="page hidden">
      <button id="btn-kembali-ke-huruf" class="btn secondary">&larr; Kembali ke Huruf</button>
      <div class="toolbar">
        <button id="btn-perkataan-log" class="btn secondary">Log</button>
      </div>
      <h2 id="tajuk-perkataan-huruf">Perkataan</h2>
      <p class="subtitle" id="label-perkataan-bahasa-huruf"></p>

      <div class="input-group">
        <label for="search-perkataan">Cari perkataan</label>
        <input type="text" id="search-perkataan" placeholder="Cari perkataan..." />
      </div>

      <button id="btn-tambah-perkataan" class="btn primary full">Tambah Perkataan</button>
      <ul id="senarai-perkataan" class="list"></ul>
    </section>

    <!-- SECTION: ELEMEN PERKATAAN (PAGE 5) -->
    <section id="page-elemen" class="page hidden">
      <button id="btn-kembali-ke-perkataan" class="btn secondary">&larr; Kembali ke Perkataan</button>
      <h2 id="tajuk-elemen-perkataan">Elemen Perkataan</h2>
      <p class="subtitle" id="label-elemen-bahasa-huruf-perkataan"></p>

      <div class="card">
        <p>Pilih jenis elemen yang ingin diuruskan untuk perkataan ini:</p>
        <button id="btn-elemen-ayat-biasa" class="btn primary full">Ayat biasa &amp; karangan</button>
        <button id="btn-elemen-dialog" class="btn secondary full">Ayat dialog</button>
      </div>
    </section>

    <!-- SECTION: AYAT BIASA & KARANGAN -->
    <section id="page-ayat-biasa" class="page hidden">
      <button id="btn-kembali-ke-elemen-dari-ayat-biasa" class="btn secondary">&larr; Kembali ke Elemen</button>
      <h2 id="tajuk-ayat-biasa">Ayat biasa &amp; karangan</h2>
      <p class="subtitle" id="label-ayat-biasa"></p>

      <button id="btn-tambah-ayat-biasa" class="btn primary full">Tambah ruang ayat biasa &amp; karangan</button>
      <div id="senarai-ayat-biasa" class="list-vertical"></div>
    </section>

    <!-- SECTION: SENARAI DIALOG (TAJUK) -->
    <section id="page-dialog" class="page hidden">
      <button id="btn-kembali-ke-elemen-dari-dialog" class="btn secondary">&larr; Kembali ke Elemen</button>
      <h2 id="tajuk-dialog">Ayat dialog</h2>
      <p class="subtitle" id="label-dialog"></p>

      <button id="btn-tambah-dialog" class="btn primary full">Tambah dialog</button>
      <ul id="senarai-dialog" class="list"></ul>
    </section>

    <!-- SECTION: SIMPANAN DIALOG (BUBBLE CHAT) -->
    <section id="page-dialog-bubble" class="page hidden">
      <button id="btn-kembali-ke-senarai-dialog" class="btn secondary">&larr; Kembali ke Senarai Dialog</button>
      <h2 id="tajuk-dialog-bubble">Dialog</h2>
      <p class="subtitle" id="label-dialog-bubble"></p>

      <button id="btn-tambah-bubble" class="btn primary full">Tambah bubble chat</button>
      <div id="senarai-bubble" class="bubble-container"></div>
    </section>

    <!-- SECTION: LOG PAGE -->
    <section id="page-log" class="page hidden">
      <button id="btn-kembali-dari-log" class="btn secondary">&larr; Kembali</button>
      <h2>Log perkataan</h2>
      <p class="subtitle">Senarai perkataan yang anda simpan ke log untuk rujukan akan datang.</p>

      <div class="input-group">
        <label for="search-log">Cari dalam log</label>
        <input type="text" id="search-log" placeholder="Cari perkataan..." />
      </div>

      <div class="toolbar">
        <button id="btn-padamlah-semua-log" class="btn danger">Padam semua log</button>
      </div>

      <ul id="senarai-log" class="list"></ul>
    </section>

  </div>

  <!-- Firebase SDK -->
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="auth.js"></script>
  <script type="module" src="app.js"></script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(err => {
          console.log('Service worker gagal daftar:', err);
        });
      });
    }
  </script>
</body>
</html>
